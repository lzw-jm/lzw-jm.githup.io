(()=>{"use strict";(()=>{class t{constructor(t){this.el=t.el,this.oldtext=this.el.innerHTML,this.text=this.oldtext,this.textCount=t.textCount,this.findAllButtonText=t.findAllButtonText||"查看",this.showFindAllButton=t.showFindAllButton,this.flag}subText(){this.text=this.text.substring(0,this.textCount)+"...",this.el.innerHTML=this.text}addButton(){let t=document.createElement("a"),e=this;t.innerText="查看",t.style.cssText="color:#9999CC;cursor:pointer;",this.el.appendChild(t),t.onclick=function(){e.flag=!e.flag,e.el.childNodes[0].textContent=e.flag?e.oldtext:e.text,this.textContent=e.flag?"收起":e.findAllButtonText}}exec(){this.subText(),this.showFindAllButton&&(this.addButton(),this.el.querySelector("a").innerHTML=this.findAllButtonText?this.findAllButtonText:"查看")}}function e(t){let e=document.createElement("div");e.innerHTML=t;let i="";return i=e.childNodes[0].innerHTML,i}const i=[{id:1,article:e("<template> <h1>如何看待知乎上的男拳</h1> <article> 1.注册知乎是在百度上提个问题，系统给推荐了一个来自知乎的答案， 而想看到完整答案，需要注册，为此我成为了知乎用户。 2.最开始的阶段是在知乎上看别人的文章与问答，觉得这里有很人性的温暖在里面， 有很多问答都很精彩，有些问得认真，回答得也很认真。在看的过程中，也感受到久违的“真诚”在其中。 平时生活中不想和人说的话，或者想了解的答案，在这里大部分找到解析的线索， 你会觉得内心里多了可以安放情感与心绪的地方。 3.知乎的很多回答很专业，在非专业人眼中有了解自己不知事物的窗口。 4.看得多了，也随之开启写作的热情。有时也会回答问题，倾注很多个人的经验与感悟在里边， 如果有人受益，那是一种很开心的，助人也自助的方式。 5.知乎的升级系统，也比较吸引人，一篇300字以上图文，每天可增加65分， 这是很有趣的一件事情。很期待能升级到下一个级别，以至于再下一个级别。 6.我个人比较喜欢在平常的生活中感悟一些对自己有用的东西， 知乎这个平台可以让自己的某些感悟分享给别人，这是一种很充实的幸福感。 赠人玫瑰，手有余香！ </article> </template>")},{id:2,article:e("<template> <h1>如何看待知乎上的男拳</h1> <article> 作者：游子离 链接：https://www.zhihu.com/question/490763912/answer/2161431049 来源：知乎 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。 鄙人几乎没有出彩礼。但实际上鄙人破防是另外的事件。 她爹妈给我八万（实际上是我给的储蓄卡）。然后我给了前妻八万。 最后这八万给老婆保管。作为夫妻共同财产。就是一张卡传来传去就把婚结了。 不过婚后每个月二万多的纯收入都给前妻保管。她们也知道我家家境与我爱她。 因此彩礼没有计较。～知乎有个答案吧，就是说个规则。夫妻当然是人类最美好的感情之一。 所谓君臣，父子，夫妻，朋友，亲戚。此谓之五伦。人就是五伦总和。但是五伦也不是绝对。 君臣大义亦有陈胜吴广。而司马迁为陈吴立世家。列为诸侯。反贼为诸侯，这是古代中国一个创举。 所谓帝王将相宁有种乎。只要你反抗暴政，你就是帝王将相。亦有孔子舍鲁君，卫君而投外国。 亦有周天子不振，而亚圣孟夫子说于魏齐。国家无道，虽然是圣人投于外国亦是正举。 生意上的伙伴，比如某些豪商，相约落水也是救一次。你不能无限压榨别人。 即使父母，绝交别居的也很多。唯独夫妻之间，委屈求全的太多。因此要求也不是不可以提。 但是得看看这个要求是不是奔着把对方掏空来的。男女之间，人伦所谓不爱的标志就是： 不考虑你的感受，你的承受能力，你日后日子怎么过，只想着怎么掏空你。 这种人，是老板，就是暴君，反他丫的。是君主，那就是横征暴敛，民不聊生。 你应该当陈胜吴广，而不是印度人。这种子女，呵呵。最好还是有所防备。 是合作的伙伴，朋友，建议还是换一个。唯独是夫妻，因为涉及到后代繁衍的问题， 特别是穷人，所以就很多时候忍气吞声。～其实这种吧。建议还是换个老实本分的。 真的。还没有进门就算计这个，多半也不是冲着过日子来的。到时候榨干了，你还能拿什么留她。 或者即使能留住，你的日子过得好么？而且啥都不惦记，就惦记家里这点财产， 这种人，内卷严重，兔子还不吃窝边草。每天算计这些，她能有多大出息。 你给了，她以后还会怪你跟了你浪费人生。娶妻娶德。不然起码让你倒退n年 </article> </template>")},{id:3,article:e("<template> <h1>如何看待知乎上的男拳</h1> <article> 老师是武音毕业的资深声乐老师，专业过硬，师德好， 教学兢兢业业，从教十几年来，桃李满天下，有不少都成为了专业歌手， 上过中国好声音。不过，老师不喜欢以这些作为宣传。老师还经常参加公益活动， 捐款捐物，如今这样的坚守初心，品德高尚的老师真的不多见了。 如果各位读者有幸成为老师的学生，还请一定珍惜，好好学习，一定能学有所得！ 作者：缘分天空 链接：https://www.zhihu.com/question/416914959/answer/2175487242 来源：知乎 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。 </article> </template>")},{id:4,article:e("<template> <h1>如何看待知乎上的男拳</h1> <article> 作者：异端之月 链接：https://www.zhihu.com/question/458218535/answer/2175684102 来源：知乎 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。 第一，知乎男权地图炮所有女性的次数，按比例来说并不算多， 论声势更是远远不如当年杨笠“普信男”“男的，垃圾”下的各种女性评论； 第二，知乎男权与其说是男权不如说是反女权，这群人的目的就是反女权， 如果有的时候不慎地图炮或者误伤了别人的话， 【主要原因是女权太过可恶抹黑了全体女性而已】 ——就像【如果有个工人在抗战时候说日本人都是垃圾， 主要不是因为他素质太低骂了日本群众，而是因为日本军国主义发动了侵略战争】， 他的这个地图炮话语需要由日本军国主义来负责，同理，【不慎误伤一般女性的责任， 应该主要由女权主义来负，因为女权主义已经这样群体性羞辱一般男性好多年了】第三， 你想做正常网民可以，少参与性别话题就是了，如果你主动参与性别话题， 【就像一个人非要跑到双方激烈交战的战场中央那样，交战双方没有为你生命负责的义务——简而言之， 你被打死属于自找的】第四，知乎上的女权主义，起码在15年之前是非常常见而且是主流， 当时反女权还根本寥寥无几，而且被普遍认为是魔怔， 也就是说当时女权主义是天然正确的一方——比如我当时也认为女权主义是正确的。 所以，在女权主义占据天然正义的高地，大部分知乎人赞成女权主义这种大优势局面之后， 是怎么被反女权反推的？无他，【不要看女权主义说了什么，而要看女权主义做了什么】综上， 知乎反女权属于正义的自卫反击，虽然会有打错人的情况，但这是属于没有办法，而且比例并不高， 你想避免也很容易——不参与性别话题就是，你不站在战场中间，自然不会被双方集火。 </article> </template>")},{id:5,article:e("<template> <h1>10-17-10-22第二周周记</h1> <article> 1. 正则表达式的作用是匹配符合规则的字符串,只对字符有用 2. 默认赋值,形参可以赋值,方法的入参必传项参数放前面,非必填项放后面 3. 数据中的id是标识,用来和服务端交互的不是指向客户端 4. 如果需要flag开关可以考虑把flag放在一个闭包里面,避免全局变量的污染 5. settimeout setinterval 可以解决同步执行的问题 6. 重绘和回流,只要改变一个dom元素,页面就会重新渲染,重绘和回流只会同时发生,文档碎片(fragment)减少了重绘和回流,提高了性能 7. template模板不会渲染到页面,专门用来克隆的模板;获取template里面的元素用content 8. DOM.remove()不会把变量的值删掉 9. promise 回调地狱 成功时调用resolve接着会走到then方法 失败时调用reject接着会走到catch方法 async和await同时出现 1. ````javascript function getUserInfo(){ return new promise((resolve,reject)=>{ setTimeout(funciton(){ let res = ['xiaoming',18] resolve(res) },2000) }) } funciton getOrderList(){ return new promise((resolve,reject)=>{ setTimeout(function(){ let res = ['order1','order2']; resolve(res); }) }) } (async function(){ let res = await getUserInfo(); console.log('用户信息:'); console.log(res); let orderList = await getOrderList(); console.log('订单信息:'); console.log(orderList); })(); ```` 10. el.style.cssText js修改页面样式时使用,可以减少重绘和回流 1. ```javascript el.style.cssText = 'color:white;fontSize:18px' ``` 11. 类里面的get方法,底层用的是Object.defineProperty,当我们调用这个属性的时候就会直接走到这个方法里面 12. innerHTML.innerText,textContent 优先级最高的是textContent 下来是innerText 最后是innerHTML; 13. data-()自定义属性,需要拿到这个属性的值用dataset.().还有setAttribute(data-()); 14. target 是目标 props 参数 options 选项,类当中constructor的参数可以用这几个 15. forEach中不能用break;因为他还是会把所有元素都遍历一遍,最好用for循环 16. 字面量字符var a = \"hello world\" 和 var a = new String('hello world') 17. new出来的都是对象; </article> </template>")}];let n=document.querySelectorAll(".center-top_left span"),o=document.querySelectorAll(".center-mid div");for(let t=0;t<n.length;t++)n[t].index=t,n[t].onclick=function(){for(let t=0;t<o.length;t++)o[t].style.display="none",n[t].classList.remove("border-bottom");o[this.index].style.display="block",this.classList.add("border-bottom")};var l=document.querySelector(".index-content"),r=document.querySelector(".showmore"),s={pageSize:2,pageNum:0,get offSize(){return this.pageSize*(this.pageNum-1)},get Num(){return i.slice(this.offSize,this.offSize+this.pageSize)},get isShow(){return Math.ceil(i.length/this.pageSize)==this.pageNum}},a=document.querySelector(".main-content");function c(){s.pageNum++,s.Num.forEach((e=>{var i=a.cloneNode(!0);i.innerHTML=e.article,i.querySelector("h1").dataset.id=e.id,i.querySelector("h1").addEventListener("click",(function(t){window.location.href=`articleDetail.html?id=${t.target.dataset.id}`})),new t({el:i.querySelector("article"),textCount:120,showFindAllButton:!0}).exec(),l.insertBefore(i,r)})),s.isShow&&(r.style.display="none")}c(),r.onclick=function(){c()},a.remove()})()})();